<html>
<head>
    <title>Spinning Cube</title>
    <link rel="stylesheet" href="tests.css"></style>
</head>
<body>
    <canvas></canvas>
    <div id="ui-overlay">
        <div class="control-bar">
            <div id="fps" style="position:absolute; top:0; right: 0; width: 60px; padding: 5px; color: white; text-align: right"></div>
            <button onclick="Test.showSource()">Show source</button>
        </div>
    </div>
    <script type="text/javascript" src="../lib/jquery-2.1.4.min.js"></script>
    <script type="text/javascript" src="../dist/renderjs-0.1.js"></script>
    <script type="text/javascript" src="test.js"></script>
    <script type="text/javascript">
var canvas = $('canvas')[0];
canvas.width = $('body').width();
canvas.height = $('body').height();
renderjs.createRenderer(canvas).then(function (renderer) {
    var cube = renderjs.Primitives.cube();
    cube.mesh.texture = 'cubetexture.png';
    cube.transform = [
        ['rotate', 30, 1, 0, 0],
        ['rotate', 'sin($time)*360', 0, 1, 0],
        ['scale', 2, 2, 2],
    ];
    renderer.addNode(cube);
    cube = renderjs.Primitives.cube();
    cube.transform = [
        ['translate', '3.0*cos($time)', -1, '-sin($time)-1.0'],
        ['rotate', '$time*360.0/7.0', 0, 1, 0],
        ['scale', 1.5, 1.5, 1.5]
    ];
    cube.flags = { wireframe: true };
    renderer.addNode(cube);
    renderer.resources.onresourcesloaded = renderer.start;
});

    </script>
</body>
</html>